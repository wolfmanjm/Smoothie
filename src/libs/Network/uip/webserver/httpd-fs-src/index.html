<html>
<head>
	<meta charset="utf-8">
	<title>Smoothie Web</title>
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.js"></script>
  <script type="text/javascript" src="functions.js"></script>
</head>

<body>

<h1>Welcome to Smoothie</h1>

<button id="motors_off" onclick="motorsOff(event)">Motors Off</button>

XY:<input type="text" id="xy_velocity" size=4 value=3000 style="width:50px" />mm/min

Z:<input type="text" id="z_velocity" size=3 value=200 style="width:40px" />
<br/>

<img id="control_xy" src="img/control_xy.png" onclick="clickXY(event)"/>
<img id="control_z" src="img/control_z.png" onclick="clickZ(event)"/>
<br/>

<table>
<tr>
  <td>
    <table>
      <tr>
        <td style="text-align:right">Heat:</td>
        <td><button id="heat_off" onclick="heatOff(event)">Off</button></td>
        <td><input type="text" id="heat_value" size=3 style="width:40px" value=0></td>
        <td><button id="heat_set" onclick="heatSet(event)">Set</button></td>
      </tr>
      <tr>
        <td style="text-align:right">Bed:</td>
        <td><button id="bed_off" onclick="heatOff(event)">Off</button></td>
        <td><input type="text" id="bed_value" size=3 style="width:40px" value=0/></td>
        <td><button id="bed_set" onclick="heatSet(event)">Set</button></td>
      </tr>
    </table>
  </td>
  <td valign="top">
    <button id="get_temperature" onclick="getTemperature()">Get Temperature</button>
  </td>
</tr>
</table>
<br/>

<button id="extrude" onclick="extrude(event)">Extrude</button>
<button id="reverse" onclick="extrude(event)">Reverse</button><br>
<input type="text" id="extrude_length" value=5 size=3 style="width:35px"/>
mm @
<input type="text" id="extrude_velocity" value=100 size=3 style="width:40px"/>
mm/min

<h2>Commands</h2>
<form action="/command" id="commandForm">
		<input type="text" name="commandText" placeholder="Send Command..."/>
		<input type="submit" value="Send"/>
</form>
<!-- the result of the command will be rendered inside this div -->
<div id="result"></div>
<script>
	// Attach a submit handler to the form
	$( "#commandForm" ).submit(function( event ) {
		// Stop form from submitting normally
		event.preventDefault();
		// Get some values from elements on the page:
		var $form = $( this );
		command = $form.find( "input[name='commandText']" ).val();
		command += "\n";
		url = $form.attr( "action" );
		// Send the data using post
		var posting = $.post( url, command );
		// Put the results in a div
		posting.done(function( data ) {
			$( "#result" ).empty();
              $.each(data.split('\n'), function(index) {
                  $( "#result" ).append( this + '<br/>' );
              });
		});
	});
</script>

<h2> Upload File </h2>
<input type="file" id="files" name="files[]" onchange="upload();" />

<h3>Uploading file(s)</h3>
<output id="list"></output>
<div id="progress"></div>
<div id="uploadresult"></div>

<script>
  document.getElementById('files').addEventListener('change', handleFileSelect, false);
</script>

</body>
</html>
